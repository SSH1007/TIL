# 문자열(string)

---

- 문자열

- 패턴 매칭

- 문자열 암호화

- 문자열 압축

---

---

> ## 문자의 표현

- 컴퓨터에서의 문자 표현
  
  - 각 문자에 대해서 대응하는 숫자를 정해 놓고 이것을 메모리에 저장하는 방식을 사용
  
  - 영어의 경우, 대소문자 합쳐서 52개이므로 6비트(64가지)면 모두 표현할 수 있다.

- ### 아스키(ASCII) 코드
  
  - 혼동을 피하기 위해 1967년 미국에서 ASCII(American Standard Code for Information Interchange)라는 문자 인코딩 표준이 제정되었다.
  
  - ASCII는 7bit 인코딩으로 128 문자를 표현하며 33개의 출력 불가능한 문자들과 공백을 비롯한 95개의 출력 가능한 문자들로 이루어져 있다.
  
  - 확장 아스키는 표준 문자 이외의 악센트 문자, 도형 문자, 특수 문자, 특수 기호 등 부가적인 문자를 128개 추가할 수 있개 하는 부호이다.
    
    - 표준 아스키는 7bit을 사용하여 문자를 표현하는데 비해, 확장 아스키는 8bit를 모두 사용함으로써 추가적인 문자를 표현할 수 있다.
    
    - 컴퓨터 생산자와 소프트웨어 개발자가 여러가지 다양한 문자에 할당할 수 있도록 하고 있다. 이렇게 할당된 확장 부호는 표준 아스키와 같이 서로 다른 프로그램이나 컴퓨터 사이에 교환되지 못한다.
    
    - 그러므로 표준 아스키는 마이크로컴퓨터 하드웨어 및 소프트웨어 사이에서 세계적으로 통용되는데 비해, 확장 아스키는 프로그램이나 컴퓨터 또는 프린터가 그것을 해독할 수 있도록 설계되어 있어야만 올바로 해독될 수 있다.
  
  - 오늘날 대부분의 컴퓨터는 문자를 읽고 쓰는데 ASCII 형식을 사용한다.
  
  - 그런데 컴퓨터가 발전하면서 미국뿐만 아니라 각 나라에서도 컴퓨터가 발전했으며 각 국가들은 자국의 문자를 표현하기 위하여 코드 체계를 만들어서 사용하게 되었다.
  
  - 다국어 처리를 위해 만들어진 표준이 바로 **유니코드**

- ### 유니코드
  
  - UCS-2(Universal Character Set 2)
  
  - UCS-4(Universal Character Set 4)
  
  - 유니코드를 저장하는 변수의 크기를 정의
  
  - 그러나, 바이트 순서에 대해서 표준화하지 못했음.
  
  - 따라서 파일을 인식 시 이 파일이 UCS-2, UCS-4인지 구분하고 각 경우에 맞춰 다르게 구현해야 하는 문제 발생
  
  - 이를 해결하기 위해 외부 인코딩의 필요성이 대두됨.
    
    - big-endian, little-endian
  
  - 유니코드 인코딩(UTF : Unicode Transformation Format)
    
    - UTF-8 (in web)
      
      - MIN : 8bit, MAX: 32bit (1 Byte \* 4)
    
    - UTF-16 (in Windows, java)
      
      - MIN : 16bit, MAX : 32bit (2 Byte \* 2)
    
    - UTF-32 (in unix)
      
      - MIN : 32bit, MAX : 32bit (4 Byte \* 1)
  
  - Python 인코딩
    
    - 2.x 버전 : ASCII  -> \*-coding:utf-8-\*- (첫 줄에 명시)
    
    - 3.x 버전 : 유니코드 UTF-8 -> 생략 가능
    
    - 다른 인코딩 방식으로 처리 시, 첫 줄에 작성하는 위 항목에 원하는 인코딩 방식을 지정해주면 됨

---

---

> # 문자열

## ◆ 문자열의 분류

- string
  
  - fixed length
  
  - variable length
    
    - length controlled : java 언어에서의 문자열
    
    - delimited : c언어에서의 문자열

- java에서 String 크래스에 대한 메모리 배치 예
  
  - java.lang.String 클래스는 기본적인 객체 메타 데이터 + 
  
  - hash값(hash), 문자열의 길이(count), 문자열 데이터 시작점(offset), 실제 문자열 배열에 대한 참조(value)
  
  - String 클래스와 연산자, 메소드 등을 제공
  
  - String을 유니코드(UTF16, 2Byte)로 저장

- C언어에서 문자열 처리
  
  - 문자들의 배열 형태로 구현된 응용 자료형
  
  - 문자배열에 문자열을 저장할 때는 항상 마지막에 끝을 표시하는 널 문자('\0')를 넣어줘야 한다.
  
  - 문자열 처리에 필요한 연산을 함수 형태로 제공한다.
  
  - String을 아스키 코드로 저장

- ## Python에서의 문자열 처리
  
  - char 타입 없음
  
  - 텍스트 데이터의 취급 방법이 통일되어 있음
  
  - 문자열 기호
    
    - 홑따옴표, 쌍따옴표, 홑따옴표 3개, 쌍따옴표 3개
  
  - \+ 연결
    
    - 문자열 + 문자열 : 이어 붙여주는 역할
  
  - \* 반복
    
    - 문자열\*수 : 수만큼 문자열이 반복
  
  - 문자열은 시퀀스 자료형으로 분류되고, 시퀀스 자료형에서 사용할 수 있는 인덱싱, 슬라이싱 연산들을 사용할 수 잇음
  
  - 문자열 클래스 제공 메소드
    
    - replace(), split(), isalpha(), find() 등
  
  - 문자열은 튜플과 같이 요소값을 변경할 수 없음(immutable)
  
  - String을 유니코드(UTF8)로 저장

## ◆ 문자열 뒤집기

- 자기 문자열에서 뒤집는 방법이 있고, 새로운 빈 문자열을 만들어 소스의 뒤에서부터 읽어서 타겟에 쓰는 방법이 있겠다.

- 자기 문자열을 이용할 경우는 swap을 위한 임시 변수가 필요하며 반복 수행을 문자열 길이의 반만을 수행해야 한다.

```python
s = 'Reverse this strings'
a=s[::-1]
# print(a) sgnirts siht esreveR
b=list(s)
b.reverse()
b=''.join(b)
# print(b) sgnirts siht esreveR
```

## ◆ 문자열 비교

- c : strcmp() 함수를 제공한다.

- Java : equals() 메소드를 제공한다.
  
  - 문자열 비교에서 == 연산은 메모리 참조가 같은지를 묻는 것

- 파이썬에서는 == 연산자와 is 연산자를 제공한다.
  
  - == 연산자는 내부적으로 특수 메서드 \_\_eq\_\_()를 호출

## ◆ 문자열 숫자를 정수로 변환하기

- c : atoi() 함수를 제공, 역함수로는 itoa()를 제공

- Java : 숫자 클래스의 Integer.parseInt(Sting)를 제공
  
  - 역함수로는 toString() 메소드

- 파이썬에서는 숫자와 문자변환 함수를 제공한다.
  
  - int("123"), float("3.14"), str(123), repr(123)

---

---

> # 패턴 매칭

- 패턴 매칭에 사용되는 알고리즘들
  
  - 고지식한 패턴 검색 알고리즘
  
  - 카프-라빈 알고리즘
  
  - KMP 알고리즘
  
  - 보이어-무어 알고리즘

## ◆ 고지식한 알고리즘(Brute Force)

- 본문 문자열을 처음부터 끝까지 차례대로 순회하면서 패턴 내의 문자들을 일일이 비교하는 방식으로 동작

- 시간 복잡도
  
  - 최악의 경우, 텍스트의 모든 위치에서 패턴을 비교해야 하므로  O(MN)이 됨

## ◆ KMP 알고리즘

- 불일치가 발생한 텍스트 스트링의 앞 부분에 어떤 문자가 있는지를 미리 알고 있으므로, 불일치가 발생한 앞 부분에 대하여 다시 비교하지 않고 매칭을 수행

- 패턴을 전처리하여 배열 next[M]을 구해서 잘못된 시작을 최소화함
  
  - next[M] : 불일치가 발생했을 경우, 이동할 다음 위치

- 시간 복잡도
  
  - O(M+N)

## ◆ 보이어-무어 알고리즘

- 오른쪽에서 왼쪽으로 비교

- 대부분의 상용 소프트웨어에서 채택하고 있는 알고리즘

- 보이어-무어 알고리즘은 패턴에 오른쪽 끝에 있는 문자가 불일치하고, 이 문자가 패턴 내에 존재하지 않는 경우, 이동 거리는 무려 패턴의 길이만큼이 된다.

- 텍스트 문자를 다 보지 않아도 된다.

- 최악의 경우, 수행시간이 O(mn) 걸리나, 일반적으로는 O(n)보다 빠르다.

## ◆ 문자열 매칭 알고리즘 비교

- 찾고자 하는 문자열 패턴의 길이를 m, 총 문자열 길이를 n
  
  - 고지식한 패턴 검색 : O(mn)
  
  - 카프-라빈 알고리즘 : O(n)
  
  - KMP 알고리즘 : O(n)
